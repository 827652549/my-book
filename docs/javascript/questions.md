
说句真心话，一切博文和专栏都不如红宝书《JavaScript高级程序设计》和犀牛书《JavaScript权威指南》，这两本书将会伴随你一生的前端生涯，**选一本**，**吃透它**，从此前端之路有条不紊！
## 跨域原理，解决方案
浏览器的“同源策略”会导致跨域，其中同源是指“协议、域名、端口”都相同。我曾经做项目的时候就遇到过跨域问题，当时chrome控制台爆红，后来在jsonp和CORS之间进行对比，最后选择了CORS。

**为什么选择CORS？**因为jsonp只支持get请求，但我们还有post请求，CORS就满足了我的要求。服务端设置响应头中的Access-Control-Allow-Origin为对应的域名。（接下来有可能会提问网络问题）

jsonp原理：静态文件不受同源政策影响，我可以返回一个script里面有一个回调函数，函数的里面是我要的东西。
## 原型链✨
绝大部分函数都有一个`prototype`属性，含义是**函数的原型对象**，所有被创建的对象都可以访问原型对象的属性和方法。在new的过程中，会将函数的prototype赋值给对象的`__proto__`属性，当访问一个对象的属性的时候，如果对象内部不存在这个属性，就从`__proto__`所指的父对象寻找，一直找到终点null，通过`__proto__`属性连接的这条链就是原型链。

> 原型链最顶端：`Object.prototype.__proto__=null`


## new一个对象发生了什么？
三步：

1. 创建以这个函数为原型的空对象；

2. 将函数的`prototype`赋值给对象的`__proto__`属性；

3. 将对象作为函数的this传进去，如果有return就返回return里面的内容，如果没有就创建这个对象。


## 基本类型
`String`、`Boolean`、`Number`、`Null`、`Undefined`、`Symbol`,还有一个还没有被正式纳入标准的`BigInt`。

`Symbol`可以用来创建唯一常量。
## this的指向问题
this在函数里：函数的拥有者默认绑定this
例如在对象的方法，this指向对象

## 解释下变量提升✨

JS引擎的工作方式是，先解析代码，获取所有被声明的变量，再一行一行运行，所有变量的声明语句会被提升带代码的头部，这叫做变量提升（hoisting）。

```javascript
console.log(a);//undefined
var a = 1;
```

代码的实际执行顺序是这样的：

```javascript
var a;
console.log(a);
a=1;
```

## 理解闭包吗？✨
?> 这个问题是在问：闭包是什么？闭包有什么作用？

闭包："有权访问另一个函数作用域中变量的函数"（来自红宝书）

闭包的最大作用是“隐藏变量”，一大特性是**内部函数总是可以访问外部函数中声明的参数和变量，甚至在其外部函数被返回（寿终正寝）之后**，比如可以利用闭包访问私有变量。

## 作用域链理解吗？

> 区别于原型链，作用域链是为了访问**变量**而存在的链，原型链是为了访问**对象的属性**而存在的链。

专业回答：JS在执行的过程中会创建**可执行上下文**，可执行上下文的词法环境中含有外部词法环境的引用，通过这个引用可以获取到外部词法环境的变量的声明，这些引用串联起来会一直指向全局的词法环境，因此形成了作用域链。

![作用域和执行上下文环境](https://s1.ax1x.com/2020/03/26/GpzpN9.jpg)
> 通俗理解：按照我们的常规思路，其实完全可以把“作用域”和“执行上下文环境”当作一个东西来理解，毕竟只是概念性的东西，不用过多深究。真实情况下“作用域”是在函数定义的时候存在的，而“执行上下文环境”是JS执行之前确定的，从内到外查找变量，找不到就向外层去找同名变量，这种作用域产生的“由内向外”的过程就是作用域链。

## ES6模块和CommonJS模块有什么区别？
CommonJS是对模块的浅拷贝，可以改变require引入的变量，是node广泛使用的模块化机制。
ES6模块是对模块的引用，通过import引入的是只读状态，不允许修改只读变量的值。

CommonJS模块是对象，运行时加载，ES6模块不是对象，编译时加载。

## 聊一聊BigInt
BigInt是没有正式发布(截止到2020年3月26日)的，但即将加入标准的基本类型，它是为了解决超过Number的最大安全数字就会出现计算不准确的情况。

声明方法是，"阿拉伯数字+n"，如`let b = 10n`;

> 不建议BigInt和Number进行转换，因为会损失精度。

## null和undefined有什么区别？
- null表示“没有对象”，即该处不应该有值
- undefined表示“缺少值”，此处应该有一个值，只是没有定义

## 轮询和长轮询

轮询：客户端定时向服务器发送请求，服务器接收到请求后马上返回响应信息并关闭连接。

长轮询：客户端向服务器发送请求，服务器接收到请求之后并不马上响应，等待资源更新时再响应并关闭连接。

轮询请求大半无用，浪费带宽，适用于中小项目。

长轮询看起来美好，但占用服务器资源，用于实时性比较高的项目，比如WebQQ。

## map、reduce、foreach、filter区别

- foreach按顺序传入每个值，不返回内容
- reduce，将每个值从第二个参数中获取，在第一个参数中保存
- filter过滤器，只返回符合条件的值
- map按顺序传入每个值，return的值改变当前值

filter和map是返回新数组，reduce返回结果值，foreach不返回

## Object.assign()是深拷贝还是浅拷贝

当对象中只有一级属性，没有二级属性的时候，此方法为深拷贝，但是对象中有对象的时候，此方法，在二级属性以后就是浅拷贝。

